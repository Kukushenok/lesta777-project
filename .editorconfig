#############################################
#  Unity / C# StyleCop-like .editorconfig   #
#############################################

root = true

# -----------------------------
# Core formatting
# -----------------------------
[*]
charset = utf-8
end_of_line = lf
insert_final_newline = true
trim_trailing_whitespace = true

[*.cs]
indent_style = space
indent_size = 4

# -----------------------------
# Braces and newlines
# -----------------------------
csharp_new_line_before_open_brace = all
csharp_new_line_before_else = true
csharp_new_line_before_catch = true
csharp_new_line_before_finally = true
csharp_new_line_before_members_in_object_initializers = false
csharp_new_line_between_query_expression_clauses = true

# -----------------------------
# Spacing and parentheses
# -----------------------------
csharp_space_after_keywords_in_control_flow_statements = true
csharp_space_between_method_declaration_parameter_list_parentheses = false
csharp_space_between_method_call_parameter_list_parentheses = false
csharp_space_between_method_declaration_empty_parameter_list_parentheses = false
csharp_space_between_method_call_empty_parameter_list_parentheses = false
csharp_space_after_cast = false

# -----------------------------
# Code style: var, braces, etc.
# -----------------------------
csharp_style_var_for_built_in_types = true:suggestion
csharp_style_var_when_type_is_apparent = true:suggestion
csharp_style_var_elsewhere = false:suggestion

csharp_prefer_braces = true:warning
csharp_style_prefer_switch_expression = true:suggestion
csharp_style_throw_expression = true:suggestion
csharp_style_conditional_delegate_call = true:suggestion
csharp_style_prefer_pattern_matching = true:suggestion

# -----------------------------
# Using directives
# -----------------------------
csharp_using_directive_placement = outside_namespace:warning
csharp_prefer_simple_using_statement = true:suggestion

# -----------------------------
# Qualification
# -----------------------------
dotnet_style_qualification_for_field = false:suggestion
dotnet_style_qualification_for_property = false:suggestion
dotnet_style_qualification_for_method = false:suggestion
dotnet_style_qualification_for_event = false:suggestion

# -----------------------------
# Accessibility and modifiers
# -----------------------------
dotnet_style_require_accessibility_modifiers = always:warning
dotnet_style_readonly_field = true:warning
dotnet_style_prefer_auto_properties = true:suggestion
dotnet_style_explicit_tuple_names = true:suggestion
csharp_preferred_modifier_order = public, protected, internal, private, new, static, abstract, virtual, override, sealed, readonly, unsafe, extern:warning

# -----------------------------
# Null and expression preferences
# -----------------------------
csharp_style_prefer_null_check_over_type_check = true:suggestion
csharp_style_prefer_is_null_check_over_reference_equality_method = true:suggestion
csharp_style_prefer_index_operator = true:suggestion
csharp_style_prefer_range_operator = true:suggestion
dotnet_style_object_initializer = true:suggestion
dotnet_style_collection_initializer = true:suggestion

# -----------------------------
# Documentation and header rules (disabled)
# -----------------------------
dotnet_diagnostic.SA1600.severity = none
dotnet_diagnostic.SA1633.severity = none

# -----------------------------
# Naming conventions
# -----------------------------
# Types (classes, structs, interfaces, enums, delegates)
dotnet_naming_rule.types_should_be_pascal_case.symbols = types
dotnet_naming_rule.types_should_be_pascal_case.style = pascal_case
dotnet_naming_rule.types_should_be_pascal_case.severity = warning

dotnet_naming_symbols.types.applicable_kinds = class, struct, interface, enum, delegate

# Non-private members (public/protected/internal)
# Запрет public fields через naming conventions
dotnet_naming_rule.non_private_fields_should_be_pascal_case.symbols = non_private_fields
dotnet_naming_rule.non_private_fields_should_be_pascal_case.style = pascal_case
dotnet_naming_rule.non_private_fields_should_be_pascal_case.severity = error
dotnet_naming_style.pascal_case.capitalization = pascal_case

# Дополнительно: делаем ошибкой любые public fields
dotnet_diagnostic.RCS1085.severity = error  # Use auto-implemented property

dotnet_naming_symbols.non_private_members.applicable_kinds = property, field, method, event
dotnet_naming_symbols.non_private_members.applicable_accessibilities = public, protected, internal, protected_internal

# Private fields
dotnet_naming_rule.private_fields_should_have_underscore.symbols = private_fields
dotnet_naming_rule.private_fields_should_have_underscore.style = prefix_with_underscore
dotnet_naming_rule.private_fields_should_have_underscore.severity = warning

dotnet_naming_symbols.private_fields.applicable_kinds = field
dotnet_naming_symbols.private_fields.applicable_accessibilities = private

# Constants
dotnet_naming_rule.constants_should_be_pascal_case.symbols = constants
dotnet_naming_rule.constants_should_be_pascal_case.style = pascal_case
dotnet_naming_rule.constants_should_be_pascal_case.severity = warning

dotnet_naming_symbols.constants.applicable_kinds = field
dotnet_naming_symbols.constants.required_modifiers = const

# Styles
dotnet_naming_style.pascal_case.capitalization = pascal_case
dotnet_naming_style.prefix_with_underscore.capitalization = camel_case
dotnet_naming_style.prefix_with_underscore.required_prefix = _

# Local variables
dotnet_naming_symbols.local_symbol.applicable_kinds = local
dotnet_naming_style.local_style.capitalization = camel_case
dotnet_naming_rule.variables_are_camel_case.severity = suggestion
dotnet_naming_rule.variables_are_camel_case.symbols = local_symbol
dotnet_naming_rule.variables_are_camel_case.style = local_style

# for parameters
dotnet_naming_symbols.parameter_symbol.applicable_kinds = parameter
dotnet_naming_style.parameter_style.capitalization = camel_case
dotnet_naming_rule.parameters_are_camel_case.severity = suggestion
dotnet_naming_rule.parameters_are_camel_case.symbols = parameter_symbol
dotnet_naming_rule.parameters_are_camel_case.style = parameter_style

# -----------------------------
# Suggested rule severities
# -----------------------------
dotnet_analyzer_diagnostic.category-Style.severity = warning
dotnet_analyzer_diagnostic.category-Naming.severity = warning
dotnet_analyzer_diagnostic.category-Maintainability.severity = suggestion
dotnet_analyzer_diagnostic.category-Formatting.severity = suggestion


# Force naming violations to be errors
dotnet_diagnostic.IDE1006.severity = warning
dotnet_diagnostic.IDE1007.severity = warning
dotnet_diagnostic.IDE1009.severity = warning
dotnet_diagnostic.CA1051.severity = warning

# optional: treat all Unity analyzer categories as warning
dotnet_diagnostic.UNT0001.severity = warning
dotnet_diagnostic.UNT0002.severity = warning
dotnet_diagnostic.UNT0003.severity = warning
dotnet_diagnostic.UNT0004.severity = warning
dotnet_diagnostic.UNT0005.severity = warning
dotnet_diagnostic.UNT0006.severity = warning
dotnet_diagnostic.UNT0007.severity = warning
dotnet_diagnostic.UNT0008.severity = warning
dotnet_diagnostic.UNT0009.severity = warning
dotnet_diagnostic.UNT0010.severity = warning
dotnet_diagnostic.UNT0011.severity = warning
dotnet_diagnostic.UNT0012.severity = warning
dotnet_diagnostic.UNT0013.severity = warning
dotnet_diagnostic.UNT0014.severity = warning
dotnet_diagnostic.UNT0015.severity = warning
dotnet_diagnostic.UNT0016.severity = warning
dotnet_diagnostic.UNT0017.severity = warning
dotnet_diagnostic.UNT0018.severity = warning
dotnet_diagnostic.UNT0019.severity = warning
dotnet_diagnostic.UNT0020.severity = warning
dotnet_diagnostic.UNT0021.severity = warning
dotnet_diagnostic.UNT0022.severity = warning
dotnet_diagnostic.UNT0023.severity = warning
dotnet_diagnostic.UNT0024.severity = warning
dotnet_diagnostic.UNT0025.severity = warning
dotnet_diagnostic.UNT0026.severity = warning
dotnet_diagnostic.UNT0027.severity = warning
dotnet_diagnostic.UNT0028.severity = warning
dotnet_diagnostic.UNT0029.severity = warning
dotnet_diagnostic.UNT0030.severity = warning
dotnet_diagnostic.UNT0031.severity = warning
dotnet_diagnostic.UNT0032.severity = warning
dotnet_diagnostic.UNT0033.severity = warning
dotnet_diagnostic.UNT0034.severity = warning
dotnet_diagnostic.UNT0035.severity = warning
dotnet_diagnostic.UNT0036.severity = warning
dotnet_diagnostic.UNT0037.severity = warning
dotnet_diagnostic.UNT0038.severity = warning
dotnet_diagnostic.UNT0039.severity = warning
dotnet_diagnostic.USP0001.severity = warning
dotnet_diagnostic.USP0002.severity = warning
dotnet_diagnostic.USP0003.severity = warning
dotnet_diagnostic.USP0004.severity = warning
dotnet_diagnostic.USP0005.severity = warning
dotnet_diagnostic.USP0006.severity = warning
dotnet_diagnostic.USP0007.severity = warning
dotnet_diagnostic.USP0008.severity = warning
dotnet_diagnostic.USP0009.severity = warning
dotnet_diagnostic.USP0010.severity = warning
dotnet_diagnostic.USP0011.severity = warning
dotnet_diagnostic.USP0012.severity = warning
dotnet_diagnostic.USP0013.severity = warning
dotnet_diagnostic.USP0014.severity = warning
dotnet_diagnostic.USP0015.severity = warning
dotnet_diagnostic.USP0016.severity = warning
dotnet_diagnostic.USP0017.severity = warning
dotnet_diagnostic.USP0018.severity = warning
dotnet_diagnostic.USP0019.severity = warning
dotnet_diagnostic.USP0020.severity = warning
dotnet_diagnostic.USP0021.severity = warning
dotnet_diagnostic.USP0022.severity = warning
dotnet_diagnostic.USP0023.severity = warning